<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
.markmap-dark {
  background: #27272a;
  color: white;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.12/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.12/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.12/dist/index.js"></script><script>((r) => {
          setTimeout(r);
        })(() => {
  const { markmap, mm } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute("style", "position:absolute;bottom:20px;right:20px");
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
              if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                document.documentElement.classList.add("markmap-dark");
              }
            })(() => window.markmap,null,{"content":"typing","children":[{"content":"<strong>1. &#x6cdb;&#x578b;&#xff0f;&#x7c7b;&#x578b;&#x53d8;&#x91cf;&#xff0f;&#x62bd;&#x8c61;&#x57fa;&#x7c7b;&#x8f85;&#x52a9;</strong>","children":[{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Any</strong>","children":[{"content":"&#x8868;&#x793a;&#x52a8;&#x6001;&#x7c7b;&#x578b;&#xff0c;&#x53ef;&#x4ee5;&#x662f;&#x4efb;&#x4f55;&#x7c7b;&#x578b;&#xff08;&#x4e0e; <code>object</code> &#x4e0d;&#x540c;&#xff0c;&#x66f4;&#x7075;&#x6d3b;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Any</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"9,10"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"10,12"}}],"payload":{"tag":"h4","lines":"8,9"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>TypeVar</strong>","children":[{"content":"&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x7c7b;&#x578b;&#x53d8;&#x91cf;&#xff08;&#x6cdb;&#x578b;&#x53c2;&#x6570;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>T = TypeVar(&apos;T&apos;)</code>&#xff0c;&#x53ef;&#x4f7f;&#x7528; <code>bound</code> &#x6216;&#x7ea6;&#x675f;&#x96c6;&#x5408;&#x3002;","children":[],"payload":{"tag":"li","lines":"13,14"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"14,16"}}],"payload":{"tag":"h4","lines":"12,13"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>TypeVarTuple</strong>","children":[{"content":"&#xff08;PEP 646&#xff09;&#x7528;&#x4e8e;&#x8868;&#x793a;&#x53ef;&#x53d8;&#x957f;&#x5ea6;&#x7684;&#x7c7b;&#x578b;&#x53c2;&#x6570;&#x5143;&#x7ec4;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Ts = TypeVarTuple(&apos;Ts&apos;)</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"17,18"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"18,20"}}],"payload":{"tag":"h4","lines":"16,17"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>ParamSpec</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x8868;&#x793a;&#x53ef;&#x53d8;&#x53c2;&#x6570;&#x5217;&#x8868;&#xff08;*args, **kwargs&#xff09;&#x5728;&#x6cdb;&#x578b;&#x51fd;&#x6570;&#x4e2d;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>P = ParamSpec(&apos;P&apos;)</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"21,22"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"22,24"}}],"payload":{"tag":"h4","lines":"20,21"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Generic</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x5b9a;&#x4e49;&#x6cdb;&#x578b;&#x7c7b;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>class C(Generic[T])</code>&#xff08;Python 3.12+ &#x53ef;&#x5199; <code>class C[T]:</code>&#xff09;&#x3002;","children":[],"payload":{"tag":"li","lines":"25,26"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"26,28"}}],"payload":{"tag":"h4","lines":"24,25"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>GenericAlias</strong>","children":[{"content":"&#x6cdb;&#x578b;&#x7c7b;&#x578b;&#x7684;&#x5b9e;&#x4f8b;&#x5316;&#x5f62;&#x5f0f;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>list[int]</code>&#x3001;<code>dict[str, int]</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"29,30"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"30,32"}}],"payload":{"tag":"h4","lines":"28,29"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>ClassVar</strong>","children":[{"content":"&#x6807;&#x6ce8;&#x7c7b;&#x53d8;&#x91cf;&#x800c;&#x975e;&#x5b9e;&#x4f8b;&#x53d8;&#x91cf;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>x: ClassVar[int] = 0</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"33,34"}},{"content":"&#x89e3;&#x91ca;: &#x6807;&#x8bb0;&#x4e00;&#x4e2a;&#x53d8;&#x91cf;&#x4e3a;&#x7c7b;&#x53d8;&#x91cf;&#xff08;&#x7c7b;&#x53d8;&#x91cf;&#x8fd9;&#x4e2a;&#x7c7b;&#x7684;&#x6240;&#x6709;&#x5b9e;&#x4f8b;&#x90fd;&#x5171;&#x4eab;&#xff09;","children":[],"payload":{"tag":"li","lines":"34,36"}}],"payload":{"tag":"h4","lines":"32,33"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Final</strong>","children":[{"content":"&#x8868;&#x793a;&#x4e0d;&#x53ef;&#x88ab;&#x91cd;&#x5199;&#xff0f;&#x7ee7;&#x627f;&#x7684;&#x53d8;&#x91cf;&#x6216;&#x65b9;&#x6cd5;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>NAME: Final[T] = ...</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"37,38"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"38,40"}}],"payload":{"tag":"h4","lines":"36,37"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Literal</strong>","children":[{"content":"&#x8868;&#x793a;&quot;&#x7cbe;&#x786e;&#x7b49;&#x4e8e;&quot;&#x67d0;&#x4e2a;&#x5b57;&#x9762;&#x503c;&#x7684;&#x7c7b;&#x578b;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Literal[1, &quot;x&quot;]</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"41,42"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"42,44"}}],"payload":{"tag":"h4","lines":"40,41"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Annotated</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x5728;&#x7c7b;&#x578b;&#x63d0;&#x793a;&#x4e2d;&#x9644;&#x52a0;&#x5143;&#x6570;&#x636e;&#xff08;&#x5982;&#x6821;&#x9a8c;&#x3001;&#x6846;&#x67b6;&#x6807;&#x8bb0;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Annotated[T, ...]</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"45,46"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"46,48"}}],"payload":{"tag":"h4","lines":"44,45"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>TypeAlias, TypeAliasType</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x5b9a;&#x4e49;&#x7c7b;&#x578b;&#x522b;&#x540d;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>type UserId = int</code>&#xff08;Python 3.12+&#xff09;&#x3002;&#x6216; <code>UserId: TypeAlias = int</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"49,50"}},{"content":"&#x89e3;&#x91ca;:&#x7c7b;&#x578b;&#x522b;&#x540d;&#x5c31;&#x662f;&#x7ed9;&#x67d0;&#x4e2a;&#x590d;&#x6742;&#x7684;&#x7c7b;&#x578b;&#x8d77;&#x4e2a;&#x7b80;&#x6d01;&#x7684;&#x522b;&#x540d;&#xff0c;&#x8ba9;&#x4ee3;&#x7801;&#x66f4;&#x6613;&#x8bfb;&#x3002;<br>\n&#x6bd4;&#x5982;&#x7528; UserId &#x4ee3;&#x66ff; int&#xff0c;&#x8ba9;&#x4ee3;&#x7801;&#x6709;&#x66f4;&#x5f3a;&#x7684;&#x8bed;&#x4e49;&#x8868;&#x8fbe;&#x80fd;&#x529b;&#x3002;","children":[{"content":"&#x6bd4;&#x5982;<pre data-lines=\"53,57\"><code data-lines=\"53,57\"><span class=\"hljs-type\">UserId</span>: <span class=\"hljs-type\">TypeAlias</span> = <span class=\"hljs-type\">int</span> <span class=\"hljs-comment\"># 3.12 &#x4e4b;&#x524d;  </span>\n<span class=\"hljs-keyword\">type</span> <span class=\"hljs-type\">UserId</span> = <span class=\"hljs-type\">int</span> <span class=\"hljs-comment\"># 3.12 &#x4e4b;&#x540e;.</span>\n</code></pre>\nTypeAliasType &#x662f;&quot;&#x771f;&#x5b9e;&#x5bf9;&#x8c61;&quot;&#x522b;&#x540d;&#xff08;Python &#x4e5f;&#x80fd;&#x770b;&#x89c1;&#x5e76;&#x64cd;&#x4f5c;.<pre data-lines=\"58,65\"><code data-lines=\"58,65\">\n<span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> TypeAliasType\nUserId = TypeAliasType(<span class=\"hljs-string\">&quot;UserId&quot;</span>, <span class=\"hljs-keyword\">int</span>) # &#x8bed;&#x6cd5;&#xff1a;TypeAliasType(<span class=\"hljs-string\">&quot;&#x540d;&#x5b57;&quot;</span>, &#x7c7b;&#x578b;) &#x8fd0;&#x884c;&#x65f6;&#x53ef;&#x4ee5;&#x68c0;&#x67e5;\n<span class=\"hljs-keyword\">print</span>(UserId)  # typing.TypeAliasType[<span class=\"hljs-keyword\">int</span>]\n<span class=\"hljs-keyword\">print</span>(type(UserId))  # &lt;<span class=\"hljs-keyword\">class</span> <span class=\"hljs-string\">&apos;typing.TypeAliasType&apos;</span>&gt;\n</code></pre>","children":[],"payload":{"tag":"li","lines":"52,70"}}],"payload":{"tag":"li","lines":"50,70"}}],"payload":{"tag":"h4","lines":"48,49"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Self</strong>","children":[{"content":"&#xff08;PEP 673&#xff09;&#x5728;&#x7c7b;&#x65b9;&#x6cd5;&#x4e2d;&#x8868;&#x793a;&quot;&#x8fd4;&#x56de;&#x672c;&#x7c7b;&#x5b9e;&#x4f8b;&quot;&#x7684;&#x7c7b;&#x578b;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>-&gt; Self</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"71,72"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"72,74"}}],"payload":{"tag":"h4","lines":"70,71"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Never</strong>","children":[{"content":"&#x8868;&#x793a;&#x6c38;&#x8fdc;&#x4e0d;&#x4f1a;&#x8fd4;&#x56de;&#x7684;&#x7c7b;&#x578b;&#xff08;&#x5e38;&#x7528;&#x4e8e;&#x62a5;&#x8b66;&#x6216;&#x629b;&#x5f02;&#x5e38;&#x51fd;&#x6570;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>-&gt; Never</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"75,76"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"76,78"}}],"payload":{"tag":"h4","lines":"74,75"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Union, Optional</strong>","children":[{"content":"&#x867d;&#x7136;&#x5728;&#x65b0;&#x8bed;&#x6cd5;&#x4e2d; <code>|</code> &#x53ef;&#x4ee5;&#x66ff;&#x4ee3; <code>Union</code>&#xff0c;&#x4f46;&#x4ecd;&#x5b58;&#x5728;&#x4e8e; <code>typing</code> &#x6a21;&#x5757;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>int | str</code>&#x3002;<code>Optional[T]</code> &#x7b49;&#x540c;&#x4e8e; <code>T | None</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"79,80"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"80,82"}}],"payload":{"tag":"h4","lines":"78,79"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Required, NotRequired</strong>","children":[{"content":"&#x7528;&#x4e8e; <code>TypedDict</code>&#xff0c;&#x6807;&#x8bb0;&#x5fc5;&#x9700;/&#x53ef;&#x9009;&#x5b57;&#x6bb5;&#x3002;&#x8bed;&#x6cd5;&#xff1a;&#x5728; <code>TypedDict</code> &#x5b57;&#x6bb5;&#x4e0a;&#x4f7f;&#x7528;&#xff0c;&#x5982; <code>name: Required[str]</code>&#xff0c;<code>age: NotRequired[int]</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"83,84"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"84,86"}}],"payload":{"tag":"h4","lines":"82,83"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Unpack</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x89e3;&#x5305; <code>TypeVarTuple</code> &#x548c; <code>TypedDict</code>&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Unpack[Ts]</code>&#x3002;&#x5728; <code>**kwargs</code> &#x4e0a;&#x53ef;&#x5199; <code>**args: Unpack[TD]</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"87,88"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"88,90"}}],"payload":{"tag":"h4","lines":"86,87"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Type</strong>","children":[{"content":"&#x8868;&#x793a;&quot;&#x4e00;&#x4e2a;&#x7c7b;&#x578b;&quot;&#x7684;&#x7c7b;&#x578b;&#xff08;&#x5982; <code>Type[int]</code> &#x8868;&#x793a;&quot;&#x7c7b;&#x578b;&#x662f; <code>int</code> &#x7684;&#x7c7b;&#x578b;&quot;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Type[T]</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"91,92"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"92,94"}}],"payload":{"tag":"h4","lines":"90,91"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>AnyStr</strong>","children":[{"content":"&#x9884;&#x5b9a;&#x4e49;&#x7684; <code>TypeVar</code>&#xff0c;&#x7ea6;&#x675f;&#x4e3a; <code>str</code> &#x6216; <code>bytes</code>&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>AnyStr</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"95,96"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"96,98"}}],"payload":{"tag":"h4","lines":"94,95"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>NamedTuple</strong>","children":[{"content":"&#x521b;&#x5efa;&#x5177;&#x540d;&#x5143;&#x7ec4;&#x7c7b;&#xff08;&#x7c7b;&#x4f3c; <code>dataclass</code> &#x4f46;&#x66f4;&#x8f7b;&#x91cf;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Point = NamedTuple(&quot;Point&quot;, [(&quot;x&quot;, int), (&quot;y&quot;, int)])</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"99,100"}},{"content":"&#x89e3;&#x91ca;:","children":[{"content":"NamedTuple &#x662f; Python &#x4e2d;&#x4e00;&#x79cd;&#x521b;&#x5efa;&#x5177;&#x540d;&#x5143;&#x7ec4;&#x7c7b;&#x7684;&#x5de5;&#x5177;&#xff0c;&#x5b83;&#x8ba9;&#x5143;&#x7ec4;&#x7684;&#x6bcf;&#x4e2a;&#x4f4d;&#x7f6e;&#x90fd;&#x6709;&#x4e00;&#x4e2a;&#x540d;&#x5b57;&#x3002;&#x4e0e;&#x666e;&#x901a;&#x5143;&#x7ec4;&#x76f8;&#x6bd4;&#xff0c;NamedTuple &#x7684;&#x5143;&#x7d20;&#x65e2;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x7d22;&#x5f15;&#x8bbf;&#x95ee;&#xff08;&#x5982; point[0]&#xff09;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x540d;&#x5b57;&#x8bbf;&#x95ee;&#xff08;&#x5982; point.x&#xff09;&#xff0c;&#x8ba9;&#x4ee3;&#x7801;&#x66f4;&#x5177;&#x53ef;&#x8bfb;&#x6027;&#x3002;","children":[],"payload":{"tag":"li","lines":"101,102"}},{"content":"\n<pre data-lines=\"103,114\"><code data-lines=\"103,114\"><span class=\"hljs-keyword\">from</span> typing import NamedTuple\n<span class=\"hljs-meta\"># &#x65b9;&#x5f0f;1&#xff1a;&#x7c7b;&#x5b9a;&#x4e49;&#x98ce;&#x683c;&#xff08;&#x63a8;&#x8350;&#xff0c;&#x7c7b;&#x4f3c; pydantic &#x7684; BaseModel&#xff09;</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Point</span>(NamedTuple): \n    x: <span class=\"hljs-built_in\">int</span>\n    y: <span class=\"hljs-built_in\">int</span>\n<span class=\"hljs-meta\"># &#x521b;&#x5efa;&#x5b9e;&#x4f8b;</span>\np = Point(<span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">20</span>)\n<span class=\"hljs-keyword\">print</span>(p.x)  <span class=\"hljs-meta\"># 10 - &#x901a;&#x8fc7;&#x540d;&#x5b57;&#x8bbf;&#x95ee;</span>\n<span class=\"hljs-keyword\">print</span>(p[<span class=\"hljs-number\">0</span>])  <span class=\"hljs-meta\"># 10 - &#x901a;&#x8fc7;&#x7d22;&#x5f15;&#x8bbf;&#x95ee;</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"102,116"}}],"payload":{"tag":"li","lines":"100,116"}}],"payload":{"tag":"h4","lines":"98,99"}}],"payload":{"tag":"h3","lines":"6,7"}},{"content":"<strong>2. &#x534f;&#x8bae; (Protocol)&#xff0f;&#x652f;&#x6301;&#x63a5;&#x53e3; (Supports&#x2026;)</strong>","children":[{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Protocol</strong>","children":[{"content":"&#x5b9a;&#x4e49;&#x7ed3;&#x6784;&#x6027;&#x7c7b;&#x578b;&#xff08;&#x53ea;&#x8981;&#x5177;&#x5907;&#x67d0;&#x4e9b;&#x65b9;&#x6cd5;&#xff0f;&#x5c5e;&#x6027;&#x5373;&#x53ef;&#xff0c;&#x7c7b;&#x4f3c;&#x63a5;&#x53e3;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>class X(Protocol): ...</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"119,120"}},{"content":"&#x89e3;&#x91ca;:","children":[{"content":"Protocol &#x7684;&#x7ed3;&#x6784;&#x68c0;&#x67e5;<strong>&#x4e0d;&#x4ec5;&#x68c0;&#x67e5;&#x65b9;&#x6cd5;&#x7b7e;&#x540d;&#xff0c;&#x4e5f;&#x68c0;&#x67e5;&#x5c5e;&#x6027;</strong>&#xff08;&#x5305;&#x62ec;&#x7c7b;&#x578b;&#xff09;&#x3002;&#x53ea;&#x8981;&#x5bf9;&#x8c61;&#x6709;&#x5bf9;&#x5e94;&#x7684;&#x5c5e;&#x6027;&#x548c;&#x65b9;&#x6cd5;&#xff0c;&#x5c31;&#x6ee1;&#x8db3; Protocol&#xff0c;&#x65e0;&#x9700;&#x663e;&#x5f0f;&#x7ee7;&#x627f;&#xff08;&#x9e2d;&#x5b50;&#x7c7b;&#x578b;&#xff09;&#x3002;","children":[],"payload":{"tag":"li","lines":"121,122"}},{"content":"\n<pre data-lines=\"123,144\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> Protocol\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">HasUserInfo</span>(<span class=\"hljs-title class_ inherited__\">Protocol</span>):\n    user_id: <span class=\"hljs-built_in\">int</span>      <span class=\"hljs-comment\"># &#x2705; &#x53ef;&#x4ee5;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;</span>\n    username: <span class=\"hljs-built_in\">str</span>     <span class=\"hljs-comment\"># &#x2705; &#x53ef;&#x4ee5;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_name</span>(<span class=\"hljs-params\">self</span>) -&gt; <span class=\"hljs-built_in\">str</span>: ...  <span class=\"hljs-comment\"># &#x2705; &#x53ef;&#x4ee5;&#x5b9a;&#x4e49;&#x65b9;&#x6cd5;</span>\n\n<span class=\"hljs-comment\"># &#x5b9e;&#x73b0;&#x65f6;&#x65e0;&#x9700;&#x7ee7;&#x627f; Protocol</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">User</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, uid: <span class=\"hljs-built_in\">int</span>, name: <span class=\"hljs-built_in\">str</span></span>):\n        <span class=\"hljs-variable language_\">self</span>.user_id = uid\n        <span class=\"hljs-variable language_\">self</span>.username = name\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_name</span>(<span class=\"hljs-params\">self</span>) -&gt; <span class=\"hljs-built_in\">str</span>:\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">self</span>.username\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">print_user</span>(<span class=\"hljs-params\">u: HasUserInfo</span>) -&gt; <span class=\"hljs-literal\">None</span>:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{u.user_id}</span>: <span class=\"hljs-subst\">{u.get_name()}</span>&quot;</span>)\n\nprint_user(User(<span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&quot;Alice&quot;</span>))  <span class=\"hljs-comment\"># &#x2705; User &#x6ee1;&#x8db3; Protocol</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"122,145"}}],"payload":{"tag":"li","lines":"120,145"}}],"payload":{"tag":"h4","lines":"118,119"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>runtime_checkable</strong>","children":[{"content":"runtime_checkable &#x662f;&#x4e00;&#x4e2a;&#x88c5;&#x9970;&#x5668;&#xff0c;&#x5b83;&#x8ba9; Protocol &#x53ef;&#x4ee5;&#x5728;&#x8fd0;&#x884c;&#x65f6;&#x88ab; isinstance() &#x548c; issubclass() &#x68c0;&#x67e5;&#x3002;","children":[],"payload":{"tag":"li","lines":"146,147"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"147,149"}}],"payload":{"tag":"h4","lines":"145,146"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>SupportsInt, SupportsFloat, SupportsComplex, SupportsIndex, SupportsBytes, SupportsAbs, SupportsRound, &#x2026;</strong>","children":[{"content":"&#x8fd9;&#x4e9b; &quot;SupportsX&quot; &#x7528;&#x4e8e;&#x8868;&#x793a;&#x67d0;&#x5bf9;&#x8c61;&#x652f;&#x6301;&#x76f8;&#x5e94;&#x64cd;&#x4f5c;&#xff08;&#x5982;&#x53ef;&#x8f6c;&#x4e3a; <code>int</code>&#x3001;&#x53ef;&#x7d22;&#x5f15;&#x3001;&#x53ef;&#x53d6;&#x7edd;&#x5bf9;&#x503c;&#x7b49;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;&#x76f4;&#x63a5;&#x4f7f;&#x7528;&#x5bf9;&#x5e94;&#x7c7b;&#x578b;&#xff0c;&#x5982; <code>SupportsInt</code>&#x3001;<code>SupportsAbs</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"150,151"}},{"content":"&#x89e3;&#x91ca;:","children":[{"content":"&#x76f8;&#x5f53;&#x4e8e;&#x9884;&#x5b9a;&#x4e49;&#x7684;&#x4e00;&#x4e9b; Protocol","children":[],"payload":{"tag":"li","lines":"152,153"}},{"content":"&#x534f;&#x8bae;&#x7c7b;&#x578b;\t&#x68c0;&#x67e5;&#x7684;&#x9b54;&#x6cd5;&#x65b9;&#x6cd5;\t&#x542b;&#x4e49;<br>\nSupportsInt\t<strong>int</strong>()\t&#x53ef;&#x8f6c;&#x6362;&#x4e3a; int<br>\nSupportsFloat\t<strong>float</strong>()\t&#x53ef;&#x8f6c;&#x6362;&#x4e3a; float<br>\nSupportsComplex\t<strong>complex</strong>()\t&#x53ef;&#x8f6c;&#x6362;&#x4e3a; complex<br>\nSupportsBytes\t<strong>bytes</strong>()\t&#x53ef;&#x8f6c;&#x6362;&#x4e3a; bytes<br>\nSupportsIndex\t<strong>index</strong>()\t&#x53ef;&#x7528;&#x4f5c;&#x7d22;&#x5f15;/&#x5207;&#x7247;<br>\nSupportsAbs[T]\t<strong>abs</strong>()\t&#x53ef;&#x6c42;&#x7edd;&#x5bf9;&#x503c;<br>\nSupportsRound[T]\t<strong>round</strong>()\t&#x53ef;&#x56db;&#x820d;&#x4e94;&#x5165;","children":[],"payload":{"tag":"li","lines":"153,163"}}],"payload":{"tag":"li","lines":"151,163"}}],"payload":{"tag":"h4","lines":"149,150"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>TypedDict</strong>","children":[{"content":"&#xff08;&#x867d;&#x7136;&#x4e0d;&#x5b8c;&#x5168;&#x662f; <code>Protocol</code>&#xff0c;&#x4f46;&#x5c5e;&#x4e8e;&#x7c7b;&#x578b;&#x63d0;&#x793a;&#x7ed3;&#x6784;&#xff09;&#x8868;&#x793a;&#x5b57;&#x5178;&#x5177;&#x6709;&#x56fa;&#x5b9a;&#x952e;/&#x503c;&#x7c7b;&#x578b;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>class Movie(TypedDict): ...</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"164,165"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"165,167"}}],"payload":{"tag":"h4","lines":"163,164"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Protocol &#x7684;&#x5b50;&#x7c7b;&#xff0f;&#x7ec4;&#x5408;&#x5f62;&#x5f0f;</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x66f4;&#x590d;&#x6742;&#x63a5;&#x53e3;&#x5b9a;&#x4e49;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>class X(Protocol, Y): ...</code> &#x6216;&#x7ec4;&#x5408;&#x591a;&#x4e2a; <code>Protocol</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"168,169"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"169,172"}}],"payload":{"tag":"h4","lines":"167,168"}}],"payload":{"tag":"h3","lines":"116,117"}},{"content":"<strong>3. &#x9ad8;&#x9636;&#x7c7b;&#x578b;&#x5f62;&#x72b6;&#xff0f;&#x53ef;&#x8c03;&#x7528;&#xff0f;&#x5bb9;&#x5668;&#x76f8;&#x5173;</strong>","children":[{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Concatenate</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x7ec4;&#x5408; <code>Callable</code> &#x53c2;&#x6570;&#x5217;&#x8868;&#xff08;&#x8f83;&#x9ad8;&#x7ea7;&#x7528;&#x6cd5;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>Concatenate[Arg1, P, ArgN]</code>&#x3002;<br>\n&#x89e3;&#x51b3;&#x7684;&#x95ee;&#x9898;&#xff1a;&#x5047;&#x8bbe;&#x4f60;&#x8981;&#x5199;&#x4e00;&#x4e2a;&#x88c5;&#x9970;&#x5668;&#xff0c;&#x5b83;&#x4f1a;&#x7ed9;&#x539f;&#x51fd;&#x6570;&#x989d;&#x5916;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff08;&#x6bd4;&#x5982;&#x6ce8;&#x5165;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x5e93;&#x8fde;&#x63a5;&#xff09;&#x3002;&#x4f7f;&#x7528;&#x666e;&#x901a;&#x7684; Callable &#x7c7b;&#x578b;&#x63d0;&#x793a;&#x65f6;&#xff0c;&#x65e0;&#x6cd5;&#x7cbe;&#x786e;&#x8868;&#x8fbe;&quot;&#x5728;&#x539f;&#x51fd;&#x6570;&#x53c2;&#x6570;&#x5217;&#x8868;&#x524d;&#x9762;&#x63d2;&#x5165;&#x4e00;&#x4e2a;&#x65b0;&#x53c2;&#x6570;&quot;&#x3002;<br>\n&#x672c;&#x8d28;&#xff1a;Concatenate &#x662f;&#x4e00;&#x4e2a;&#x7c7b;&#x578b;&#x7ea7;&#x522b;&#x7684;&#x53c2;&#x6570;&#x5217;&#x8868;&#x62fc;&#x63a5;&#x5668;","children":[],"payload":{"tag":"li","lines":"175,178"}},{"content":"&#x89e3;&#x91ca;:<pre data-lines=\"179,199\"><code class=\"language-python\">  <span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> <span class=\"hljs-type\">Callable</span>, Concatenate, ParamSpec, TypeVar\n  P = ParamSpec(<span class=\"hljs-string\">&apos;P&apos;</span>)  <span class=\"hljs-comment\"># &#x4ee3;&#x8868;&quot;&#x539f;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x5217;&#x8868;&quot;</span>\n  T = TypeVar(<span class=\"hljs-string\">&apos;T&apos;</span>)    <span class=\"hljs-comment\"># &#x4ee3;&#x8868;&quot;&#x539f;&#x51fd;&#x6570;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x7c7b;&#x578b;&quot;</span>\n  <span class=\"hljs-comment\"># &#x88c5;&#x9970;&#x5668;&#xff1a;&#x5728;&#x539f;&#x51fd;&#x6570;&#x53c2;&#x6570;&#x524d;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a; str &#x7c7b;&#x578b;&#x7684; db &#x53c2;&#x6570;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">add_db</span>(<span class=\"hljs-params\">\n      func: <span class=\"hljs-type\">Callable</span>[P, T]  <span class=\"hljs-comment\"># &#x539f;&#x51fd;&#x6570;&#xff1a;&#x63a5;&#x53d7; P &#x53c2;&#x6570;&#xff0c;&#x8fd4;&#x56de; T</span>\n  </span>) -&gt; <span class=\"hljs-type\">Callable</span>[Concatenate[<span class=\"hljs-built_in\">str</span>, P], T]:  <span class=\"hljs-comment\"># &#x65b0;&#x51fd;&#x6570;&#xff1a;&#x63a5;&#x53d7; str + P &#x53c2;&#x6570;&#xff0c;&#x8fd4;&#x56de; T</span>\n      <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">wrapper</span>(<span class=\"hljs-params\">db: <span class=\"hljs-built_in\">str</span>, *args: P.args, **kwargs: P.kwargs</span>) -&gt; T:\n          <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;&#x8fde;&#x63a5;&#x6570;&#x636e;&#x5e93;: <span class=\"hljs-subst\">{db}</span>&quot;</span>)\n          <span class=\"hljs-keyword\">return</span> func(*args, **kwargs)\n      <span class=\"hljs-keyword\">return</span> wrapper\n  <span class=\"hljs-comment\"># &#x4f7f;&#x7528;&#x88c5;&#x9970;&#x5668;</span>\n<span class=\"hljs-meta\">  @add_db</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">query_user</span>(<span class=\"hljs-params\">user_id: <span class=\"hljs-built_in\">int</span>, active: <span class=\"hljs-built_in\">bool</span> = <span class=\"hljs-literal\">True</span></span>) -&gt; <span class=\"hljs-built_in\">str</span>:\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">f&quot;&#x67e5;&#x8be2;&#x7528;&#x6237; <span class=\"hljs-subst\">{user_id}</span>&#xff0c;&#x6d3b;&#x8dc3;&#x72b6;&#x6001;=<span class=\"hljs-subst\">{active}</span>&quot;</span>\n  <span class=\"hljs-comment\"># &#x8c03;&#x7528;&#x65f6;&#x5fc5;&#x987b;&#x4f20;&#x5165; db &#x53c2;&#x6570;</span>\n  result = query_user(<span class=\"hljs-string\">&quot;mysql://localhost&quot;</span>, <span class=\"hljs-number\">42</span>, active=<span class=\"hljs-literal\">False</span>)  <span class=\"hljs-comment\"># &#x2705; &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x901a;&#x8fc7;</span>\n  <span class=\"hljs-comment\"># result = query_user(42, active=False)  # &#x274c; mypy &#x62a5;&#x9519;&#xff1a;&#x7f3a;&#x5c11; db &#x53c2;&#x6570;</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"178,200"}}],"payload":{"tag":"h4","lines":"174,175"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>ParamSpecArgs, ParamSpecKwargs</strong>","children":[{"content":"\n<p data-lines=\"201,202\">&#x8f85;&#x52a9; <code>ParamSpec</code> &#x8868;&#x793a;&#x53c2;&#x6570;&#x5217;&#x8868;&#x4e2d;&#x7684; <code>args</code>&#xff0f;<code>kwargs</code>&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>P.args</code>&#xff0c;<code>P.kwargs</code>&#x3002;</p>","children":[],"payload":{"tag":"li","lines":"201,202"}},{"content":"\n<p data-lines=\"202,204\">&#x89e3;&#x91ca;: P.args &#x5c31;&#x662f;ParamSpecArgs<br>\np.kwargs &#x540c;&#x7406;&#x3002;</p>\n<pre data-lines=\"205,209\"><code>  ParamSpec &#x662f;&#x53c2;&#x6570;&#x7684;&quot;&#x5bb9;&#x5668;&quot;\n  &#x251c;&#x2500;&#x2500; P.args &#x62c6;&#x51fa;&#x4f4d;&#x7f6e;&#x53c2;&#x6570;\n  &#x251c;&#x2500;&#x2500; P.kwargs &#x62c6;&#x51fa;&#x5173;&#x952e;&#x5b57;&#x53c2;&#x6570;\n  &#x2514;&#x2500;&#x2500; Concatenate &#x5728;&#x5bb9;&#x5668;&#x524d;&#x9762;&#x52a0;&#x65b0;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"li","lines":"202,211"}}],"payload":{"tag":"h4","lines":"200,201"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>LiteralString</strong>","children":[{"content":"&#x8868;&#x793a;&#x5b57;&#x9762;&#x91cf;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;&#xff08;&#x5b89;&#x5168;&#x6027;&#x76f8;&#x5173;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>LiteralString</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"212,213"}},{"content":"&#x89e3;&#x91ca;: LiteralString &#x7684;&#x8bbe;&#x8ba1;&#x52a8;&#x673a;&#xff1a;&#x8ba9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x80fd;&#x591f;&#x533a;&#x5206;&#x54ea;&#x4e9b;&#x5b57;&#x7b26;&#x4e32;&#x662f;&quot;&#x5199;&#x6b7b;&#x5728;&#x4ee3;&#x7801;&#x91cc;&#x7684;&quot;&#xff08;&#x5b89;&#x5168;&#xff09;&#xff0c;&#x54ea;&#x4e9b;&#x662f;&quot;&#x8fd0;&#x884c;&#x65f6;&#x6765;&#x7684;&quot;&#xff08;&#x4e0d;&#x5b89;&#x5168;&#xff09;&#x3002;<br>\n&#x4e0d;&#x63a5;&#x53d7;&#x5916;&#x90e8;&#x8f93;&#x5165;&#x6216;&#x8005;&#x52a8;&#x6001;&#x751f;&#x6210;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x3002;<pre data-lines=\"215,228\"><code data-lines=\"215,228\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> LiteralString\n`<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">execute_sql</span>(<span class=\"hljs-params\">sql: LiteralString</span>) -&gt; <span class=\"hljs-literal\">None</span>:\n    <span class=\"hljs-string\">&quot;&quot;&quot;&#x53ea;&#x63a5;&#x53d7;&#x5b57;&#x9762;&#x91cf;&#x5b57;&#x7b26;&#x4e32;&#x7684;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;&#x6267;&#x884c; SQL: <span class=\"hljs-subst\">{sql}</span>&quot;</span>)    <span class=\"hljs-comment\"># &#x2705; &#x6b63;&#x786e;&#xff1a;&#x76f4;&#x63a5;&#x5199;&#x6b7b;&#x7684;&#x5b57;&#x7b26;&#x4e32;</span>\nexecute_sql(<span class=\"hljs-string\">&quot;SELECT * FROM users&quot;</span>)\ntable = <span class=\"hljs-string\">&quot;users&quot;</span>  <span class=\"hljs-comment\"># &#x5b57;&#x9762;&#x91cf;     # &#x2705; &#x6b63;&#x786e;&#xff1a;&#x5b57;&#x9762;&#x91cf;&#x62fc;&#x63a5;</span>\nexecute_sql(<span class=\"hljs-string\">f&quot;SELECT * FROM <span class=\"hljs-subst\">{table}</span>&quot;</span>)\nuser_input = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&quot;&#x8f93;&#x5165; SQL: &quot;</span>) <span class=\"hljs-comment\"># &#x274c; &#x9519;&#x8bef;&#xff1a;&#x6765;&#x81ea;&#x5916;&#x90e8;&#x8f93;&#x5165;</span>\nexecute_sql(user_input)  <span class=\"hljs-comment\"># &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x62a5;&#x9519;&#xff01;</span>\ndynamic = <span class=\"hljs-string\">&quot;SELECT&quot;</span> + <span class=\"hljs-string\">&quot; * FROM users&quot;</span> <span class=\"hljs-comment\"># &#x274c; &#x9519;&#x8bef;&#xff1a;&#x52a8;&#x6001;&#x751f;&#x6210;</span>\nexecute_sql(dynamic)  <span class=\"hljs-comment\"># &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x62a5;&#x9519;&#xff01;</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"213,229"}}],"payload":{"tag":"h4","lines":"211,212"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>ReadOnly</strong>","children":[{"content":"\n<p data-lines=\"230,231\">&#x8868;&#x793a;&#x53ea;&#x8bfb;&#x7c7b;&#x578b;&#xff08;&#x7528;&#x4e8e; <code>TypedDict</code> &#x7b49;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>ReadOnly[T]</code>&#x3002;</p>","children":[],"payload":{"tag":"li","lines":"230,231"}},{"content":"\n<p data-lines=\"231,232\">&#x89e3;&#x91ca;:</p>","children":[{"content":"ReadOnly[T]&#xff1a;Python 3.13+ &#x7684;&#x7c7b;&#x578b;&#x6ce8;&#x89e3;&#xff0c;&#x6807;&#x8bb0; TypedDict &#x4e2d;&#x7684;&#x53ea;&#x8bfb;&#x5b57;&#x6bb5;<pre data-lines=\"234,252\"><code data-lines=\"234,252\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> Final, TypedDict, ReadOnly\n<span class=\"hljs-keyword\">from</span> dataclasses <span class=\"hljs-keyword\">import</span> dataclass\n\n# Final&#xff1a;&#x53d8;&#x91cf;&#x4e0d;&#x80fd;&#x91cd;&#x65b0;&#x8d4b;&#x503c;\nAPI_KEY: Final[str] = <span class=\"hljs-string\">&quot;secret&quot;</span>\n# API_KEY = <span class=\"hljs-string\">&quot;new&quot;</span>  # mypy error\n\n# ReadOnly&#xff1a;TypedDict &#x8fd9;&#x4e2a;&#x5b57;&#x6bb5;&#x7684;&#x503c;&#x521b;&#x5efa;&#x4e4b;&#x540e;&#x5c31;&#x4e0d;&#x80fd;&#x4fee;&#x6539;&#x4e86;\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-symbol\">Config</span>(<span class=\"hljs-symbol\">TypedDict</span>):\n    <span class=\"hljs-symbol\">key: <span class=\"hljs-symbol\">ReadOnly</span></span>[<span class=\"hljs-symbol\">str</span>]\n\n# <span class=\"hljs-symbol\">frozen</span> <span class=\"hljs-symbol\">dataclass</span>&#xff1a;&#x8fd0;&#x884c;&#x65f6;&#x5f3a;&#x5236;&#x6574;&#x4e2a;&#x5bf9;&#x8c61;&#x4e0d;&#x53ef;&#x53d8;\n@<span class=\"hljs-symbol\">dataclass</span>(<span class=\"hljs-symbol\">frozen</span>=<span class=\"hljs-symbol\">True</span>)\n<span class=\"hljs-symbol\">class</span> <span class=\"hljs-symbol\">Point:\n    <span class=\"hljs-symbol\">x</span>: <span class=\"hljs-symbol\">int</span></span>\n    <span class=\"hljs-symbol\">y: <span class=\"hljs-symbol\">int</span></span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"233,253"}}],"payload":{"tag":"li","lines":"231,253"}}],"payload":{"tag":"h4","lines":"229,230"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>TypeGuard</strong>","children":[{"content":"&#x7c7b;&#x578b;&#x5b88;&#x536b;&#xff0c;&#x7528;&#x4e8e;&#x7c7b;&#x578b;&#x7a84;&#x5316;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>def is_str(x: object) -&gt; TypeGuard[str]: ...</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"254,255"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"255,257"}}],"payload":{"tag":"h4","lines":"253,254"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>TypeIs</strong>","children":[{"content":"&#x7c7b;&#x578b;&#x8c13;&#x8bcd;&#xff0c;&#x66f4;&#x7cbe;&#x786e;&#x7684;&#x7c7b;&#x578b;&#x7a84;&#x5316;&#xff08;Python 3.13+&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>def is_str(x: object) -&gt; TypeIs[str]: ...</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"258,259"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"259,261"}}],"payload":{"tag":"h4","lines":"257,258"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>NewType</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x521b;&#x5efa;&#x6bd4;&#x539f;&#x7c7b;&#x578b;&#x66f4;&quot;&#x7279;&#x5b9a;&quot;&#x7684;&#x7c7b;&#x578b;&#x522b;&#x540d;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>UserId = NewType(&quot;UserId&quot;, int)</code>&#x3002;<br>\n<strong>NewType &#x53ea;&#x5728;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x65f6;&#x6709;&#x6548;&#xff0c;&#x8fd0;&#x884c;&#x65f6;&#x5b83;&#x5c31;&#x662f;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x7684;&#x51fd;&#x6570;</strong><br>\n&#x63d0;&#x9ad8;&#x4ee3;&#x7801;&#x53ef;&#x8bfb;&#x6027;&#xff1a;&#x7c7b;&#x578b;&#x540d;&#x79f0;&#x76f4;&#x63a5;&#x8868;&#x8fbe;&#x4e1a;&#x52a1;&#x542b;&#x4e49;","children":[],"payload":{"tag":"li","lines":"262,265"}},{"content":"&#x89e3;&#x91ca;:","children":[{"content":"NewType &#x662f; typing &#x6a21;&#x5757;&#x63d0;&#x4f9b;&#x7684;&#x4e00;&#x4e2a;&#x5de5;&#x5177;&#xff0c;&#x7528;&#x4e8e;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x57fa;&#x4e8e;&#x73b0;&#x6709;&#x7c7b;&#x578b;&#x7684;&#x65b0;&#x7c7b;&#x578b;&#x6807;&#x8bc6;&#x3002;&#x5b83;&#x5728;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5c42;&#x9762;&#x521b;&#x5efa;&#x4e86;&#x4e00;&#x4e2a;&quot;&#x72ec;&#x7279;&quot;&#x7684;&#x7c7b;&#x578b;&#xff0c;&#x4f46;&#x5728;&#x8fd0;&#x884c;&#x65f6;&#x4ecd;&#x7136;&#x662f;&#x539f;&#x59cb;&#x7c7b;&#x578b;&#x3002;<br>\n&#x7b80;&#x5355;&#x8bf4;&#xff1a;NewType &#x8ba9;&#x4f60;&#x53ef;&#x4ee5;&#x7ed9;&#x540c;&#x4e00;&#x4e2a;&#x5e95;&#x5c42;&#x7c7b;&#x578b;&#xff08;&#x5982; int&#xff09;&#x521b;&#x5efa;&#x591a;&#x4e2a;&quot;&#x8bed;&#x4e49;&#x4e0a;&#x4e0d;&#x540c;&quot;&#x7684;&#x7c7b;&#x578b;&#x540d;&#x79f0;&#x3002;<pre data-lines=\"268,294\"><code data-lines=\"268,294\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> NewType\n\n<span class=\"hljs-comment\"># &#x521b;&#x5efa;&#x65b0;&#x7c7b;&#x578b;&#xff1a;&#x8bed;&#x6cd5;&#x662f; NewType(&quot;&#x7c7b;&#x578b;&#x540d;&quot;, &#x57fa;&#x7840;&#x7c7b;&#x578b;)</span>\nUserId = NewType(<span class=\"hljs-string\">&quot;UserId&quot;</span>, <span class=\"hljs-built_in\">int</span>)\nOrderId = NewType(<span class=\"hljs-string\">&quot;OrderId&quot;</span>, <span class=\"hljs-built_in\">int</span>)\n\n<span class=\"hljs-comment\"># &#x4f7f;&#x7528;&#x65b0;&#x7c7b;&#x578b;&#x4f5c;&#x4e3a;&#x7c7b;&#x578b;&#x63d0;&#x793a;</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_user</span>(<span class=\"hljs-params\">user_id: UserId</span>) -&gt; <span class=\"hljs-built_in\">str</span>:\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">f&quot;User <span class=\"hljs-subst\">{user_id}</span>&quot;</span>\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_order</span>(<span class=\"hljs-params\">order_id: OrderId</span>) -&gt; <span class=\"hljs-built_in\">str</span>:\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">f&quot;Order <span class=\"hljs-subst\">{order_id}</span>&quot;</span>\n\n<span class=\"hljs-comment\"># &#x521b;&#x5efa;&#x65b0;&#x7c7b;&#x578b;&#x7684;&#x503c;&#xff1a;&#x9700;&#x8981;&#x663e;&#x5f0f;&#x8c03;&#x7528;&#x6784;&#x9020;&#x5668;</span>\nuser_id = UserId(<span class=\"hljs-number\">12345</span>)  <span class=\"hljs-comment\"># &#x2705; &#x6b63;&#x786e;</span>\norder_id = OrderId(<span class=\"hljs-number\">67890</span>)  <span class=\"hljs-comment\"># &#x2705; &#x6b63;&#x786e;</span>\n\n<span class=\"hljs-comment\"># &#x4f7f;&#x7528;</span>\n<span class=\"hljs-built_in\">print</span>(get_user(user_id))  <span class=\"hljs-comment\"># &#x2705; &#x7c7b;&#x578b;&#x6b63;&#x786e;</span>\n<span class=\"hljs-built_in\">print</span>(get_order(order_id))  <span class=\"hljs-comment\"># &#x2705; &#x7c7b;&#x578b;&#x6b63;&#x786e;</span>\n\n<span class=\"hljs-comment\"># &#x274c; &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x4f1a;&#x62a5;&#x9519;</span>\n<span class=\"hljs-built_in\">print</span>(get_user(order_id))  <span class=\"hljs-comment\"># &#x9519;&#x8bef;&#xff1a;&#x671f;&#x671b; UserId&#xff0c;&#x5f97;&#x5230; OrderId</span>\n<span class=\"hljs-built_in\">print</span>(get_order(user_id))  <span class=\"hljs-comment\"># &#x9519;&#x8bef;&#xff1a;&#x671f;&#x671b; OrderId&#xff0c;&#x5f97;&#x5230; UserId</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"266,295"}}],"payload":{"tag":"li","lines":"265,295"}}],"payload":{"tag":"h4","lines":"261,262"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>Overload</strong>","children":[{"content":"&#x8868;&#x793a;&#x91cd;&#x8f7d;&#x51fd;&#x6570;&#x7b7e;&#x540d;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>@overload</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"296,297"}},{"content":"&#x89e3;&#x91ca;:<br>\n@overload &#x662f; Python &#x7c7b;&#x578b;&#x63d0;&#x793a;&#x7cfb;&#x7edf;&#x4e2d;&#x7684;&#x4e00;&#x4e2a;&#x88c5;&#x9970;&#x5668;&#xff0c;&#x7528;&#x4e8e;&#x4e3a;&#x540c;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#x58f0;&#x660e;&#x591a;&#x4e2a;&#x4e0d;&#x540c;&#x7684;&#x7c7b;&#x578b;&#x7b7e;&#x540d;&#x3002;&#x5b83;&#x8ba9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#xff08;&#x5982; mypy&#xff09;&#x80fd;&#x591f;&#x6839;&#x636e;&#x4f20;&#x5165;&#x53c2;&#x6570;&#x7684;&#x7c7b;&#x578b;&#xff0c;&#x63a8;&#x65ad;&#x51fa;&#x6b63;&#x786e;&#x7684;&#x8fd4;&#x56de;&#x7c7b;&#x578b;&#x3002;<br>\n&#x5173;&#x952e;&#x70b9;&#xff1a;@overload &#x53ea;&#x5728;&#x9759;&#x6001;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x65f6;&#x8d77;&#x4f5c;&#x7528;&#xff0c;&#x8fd0;&#x884c;&#x65f6;&#x4e0d;&#x6267;&#x884c;&#x8fd9;&#x4e9b;&#x91cd;&#x8f7d;&#x7b7e;&#x540d;&#xff0c;Python &#x4ecd;&#x7136;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x5b9e;&#x9645;&#x7684;&#x51fd;&#x6570;&#x5b9e;&#x73b0;&#x3002;<pre data-lines=\"300,326\"><code data-lines=\"300,326\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> overload\n\n<span class=\"hljs-meta\">@overload</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">create_user</span>(<span class=\"hljs-params\">name: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-built_in\">dict</span>: ...\n\n<span class=\"hljs-meta\">@overload</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">create_user</span>(<span class=\"hljs-params\">name: <span class=\"hljs-built_in\">str</span>, age: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-built_in\">dict</span>: ...\n\n<span class=\"hljs-meta\">@overload</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">create_user</span>(<span class=\"hljs-params\">name: <span class=\"hljs-built_in\">str</span>, age: <span class=\"hljs-built_in\">int</span>, email: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-built_in\">dict</span>: ...\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">create_user</span>(<span class=\"hljs-params\">name: <span class=\"hljs-built_in\">str</span>, age: <span class=\"hljs-built_in\">int</span> | <span class=\"hljs-literal\">None</span> = <span class=\"hljs-literal\">None</span>, email: <span class=\"hljs-built_in\">str</span> | <span class=\"hljs-literal\">None</span> = <span class=\"hljs-literal\">None</span></span>) -&gt; <span class=\"hljs-built_in\">dict</span>:\n    <span class=\"hljs-string\">&quot;&quot;&quot;&#x521b;&#x5efa;&#x7528;&#x6237;&#x5b57;&#x5178;&quot;&quot;&quot;</span>\n    user = {<span class=\"hljs-string\">&quot;name&quot;</span>: name}\n    <span class=\"hljs-keyword\">if</span> age <span class=\"hljs-keyword\">is</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-literal\">None</span>:\n        user[<span class=\"hljs-string\">&quot;age&quot;</span>] = age\n    <span class=\"hljs-keyword\">if</span> email <span class=\"hljs-keyword\">is</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-literal\">None</span>:\n        user[<span class=\"hljs-string\">&quot;email&quot;</span>] = email\n    <span class=\"hljs-keyword\">return</span> user\n\n<span class=\"hljs-comment\"># &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x80fd;&#x8bc6;&#x522b;&#x4e0d;&#x540c;&#x7684;&#x8c03;&#x7528;&#x65b9;&#x5f0f;</span>\nuser1 = create_user(<span class=\"hljs-string\">&quot;Bob&quot;</span>)\nuser2 = create_user(<span class=\"hljs-string\">&quot;Bob&quot;</span>, <span class=\"hljs-number\">25</span>)\nuser3 = create_user(<span class=\"hljs-string\">&quot;Bob&quot;</span>, <span class=\"hljs-number\">25</span>, <span class=\"hljs-string\">&quot;bob@example.com&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"li","lines":"297,327"}}],"payload":{"tag":"h4","lines":"295,296"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>get_origin(), get_args(), clear_overloads()</strong>","children":[{"content":"<code>get_origin(tp)</code> &#x8fd4;&#x56de;&#x6cdb;&#x578b;&#x539f;&#x59cb;&#x7c7b;&#x578b;&#xff08;<code>list[int]</code> &#x2192; <code>list</code>&#xff09;&#xff0c;<code>get_args(tp)</code> &#x8fd4;&#x56de;&#x7c7b;&#x578b;&#x53c2;&#x6570;&#xff08;<code>list[int]</code> &#x2192; <code>(int,)</code>&#xff09;&#x3002;&#x975e;&#x6cdb;&#x578b;&#x8fd4;&#x56de; <code>None</code> &#x548c;&#x7a7a;&#x5143;&#x7ec4;&#x3002;&#x7528;&#x4e8e;&#x8fd0;&#x884c;&#x65f6;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x548c;&#x6846;&#x67b6;&#x5f00;&#x53d1;&#x3002;<code>clear_overloads()</code> &#x6e05;&#x7406; <code>@overload</code> &#x91cd;&#x8f7d;&#x7b7e;&#x540d;&#x3002;","children":[],"payload":{"tag":"li","lines":"328,329"}},{"content":"&#x89e3;&#x91ca;:<pre data-lines=\"330,335\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> get_origin, get_args\n<span class=\"hljs-built_in\">print</span>(get_origin(<span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">int</span>]))  <span class=\"hljs-comment\"># &lt;class &apos;list&apos;&gt;</span>\n<span class=\"hljs-built_in\">print</span>(get_args(<span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">int</span>]))    <span class=\"hljs-comment\"># (&lt;class &apos;int&apos;&gt;,)</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"329,337"}}],"payload":{"tag":"h4","lines":"327,328"}}],"payload":{"tag":"h3","lines":"172,173"}},{"content":"<strong>4. &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x4e13;&#x7528;&#xff0f;&#x8fd0;&#x884c;&#x65f6;&#x8f85;&#x52a9;&#xff0f;&#x7248;&#x672c;&#x517c;&#x5bb9;</strong>","children":[{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>TYPE_CHECKING</strong>","children":[{"content":"&#x5e03;&#x5c14;&#x5e38;&#x91cf;&#xff0c;&#x5728;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x8fd0;&#x884c;&#x65f6;&#x4e3a; <code>True</code>&#xff0c;&#x800c;&#x8fd0;&#x884c;&#x65f6;&#x4ee3;&#x7801;&#x53ef;&#x636e;&#x6b64;&#x8df3;&#x8fc7;&#x67d0;&#x4e9b;&#x5bfc;&#x5165;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>from typing import TYPE_CHECKING</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"340,341"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"341,343"}}],"payload":{"tag":"h4","lines":"339,340"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>cast()</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x544a;&#x8bc9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x5c06;&#x67d0;&#x503c;&#x89c6;&#x4e3a;&#x67d0;&#x7c7b;&#x578b;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>cast(T, expr)</code>&#x3002;<pre data-lines=\"345,349\"><code data-lines=\"345,349\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> <span class=\"hljs-keyword\">cast</span>\n<span class=\"hljs-built_in\">result</span> = <span class=\"hljs-keyword\">cast</span>(<span class=\"hljs-type\">TargetType</span>, expression)\n</code></pre>","children":[],"payload":{"tag":"li","lines":"344,349"}},{"content":"&#x89e3;&#x91ca;:","children":[{"content":"cast() &#x662f; typing &#x6a21;&#x5757;&#x63d0;&#x4f9b;&#x7684;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x7528;&#x4e8e;&#x544a;&#x8bc9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x5c06;&#x67d0;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x7c7b;&#x578b;&#x89c6;&#x4e3a;&#x6307;&#x5b9a;&#x7684;&#x7c7b;&#x578b;&#x3002;","children":[],"payload":{"tag":"li","lines":"350,351"}},{"content":"","children":[{"content":"1. \n<p data-lines=\"351,353\">&#x91cd;&#x8981;&#xff1a;cast() &#x53ea;&#x5f71;&#x54cd;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#xff08;&#x5982; mypy&#xff09;&#xff0c;&#x5728;&#x8fd0;&#x884c;&#x65f6;&#x4e0d;&#x505a;&#x4efb;&#x4f55;&#x7c7b;&#x578b;&#x8f6c;&#x6362;&#x6216;&#x9a8c;&#x8bc1;&#xff0c;&#x5b83;&#x53ea;&#x662f;&#x4e00;&#x4e2a;&quot;&#x6807;&#x8bb0;&quot;&#x3002;<br>\n&#x8bed;&#x6cd5;&#xff1a;</p>","children":[],"payload":{"tag":"li","lines":"351,354","listIndex":1}},{"content":"2. \n<p data-lines=\"354,360\">&#x4e3a;&#x4ec0;&#x4e48;&#x9700;&#x8981;<br>\n&#x6709;&#x65f6;&#x5019;&#x4f60;&#xff08;&#x7a0b;&#x5e8f;&#x5458;&#xff09;&#x6bd4;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x66f4;&#x4e86;&#x89e3;&#x67d0;&#x4e2a;&#x503c;&#x7684;&#x771f;&#x5b9e;&#x7c7b;&#x578b;&#xff0c;&#x4f46;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x65e0;&#x6cd5;&#x63a8;&#x65ad;&#x51fa;&#x6765;&#x3002;&#x8fd9;&#x65f6;&#x5c31;&#x9700;&#x8981;&#x7528; cast() &#x6765;&quot;&#x544a;&#x8bc9;&quot;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#xff1a;&#x76f8;&#x4fe1;&#x6211;&#xff0c;&#x8fd9;&#x4e2a;&#x503c;&#x5c31;&#x662f;&#x8fd9;&#x4e2a;&#x7c7b;&#x578b;&#x3002;<br>\n&#x5e38;&#x89c1;&#x573a;&#x666f;&#xff1a;<br>\n&#x52a8;&#x6001;&#x52a0;&#x8f7d;&#x7684;&#x5bf9;&#x8c61;<br>\n&#x4ece;&#x5916;&#x90e8;&#x6570;&#x636e;&#x6e90;&#x83b7;&#x53d6;&#x7684;&#x6570;&#x636e;<br>\n&#x590d;&#x6742;&#x7684;&#x7c7b;&#x578b;&#x63a8;&#x65ad;&#x573a;&#x666f;&#xff0c;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x65e0;&#x6cd5;&#x6b63;&#x786e;&#x63a8;&#x65ad;</p>","children":[],"payload":{"tag":"li","lines":"354,360","listIndex":2}},{"content":"3. \n<p data-lines=\"360,361\">&#x4f8b;&#x5b50;</p>\n<pre data-lines=\"361,376\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> cast\n\n<span class=\"hljs-comment\"># &#x573a;&#x666f;&#xff1a;&#x4ece;&#x914d;&#x7f6e;&#x4e2d;&#x83b7;&#x53d6;&#x503c;&#xff0c;&#x4f60;&#x77e5;&#x9053;&#x5b83;&#x662f; int&#xff0c;&#x4f46;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x8ba4;&#x4e3a;&#x662f; Any</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_config</span>(<span class=\"hljs-params\">key: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-type\">Any</span>:\n    <span class=\"hljs-keyword\">return</span> {<span class=\"hljs-string\">&quot;timeout&quot;</span>: <span class=\"hljs-number\">30</span>}[key]\n\n<span class=\"hljs-comment\"># &#x4e0d;&#x7528; cast&#xff1a;mypy &#x4f1a;&#x8ba4;&#x4e3a; timeout &#x662f; Any &#x7c7b;&#x578b;</span>\ntimeout = get_config(<span class=\"hljs-string\">&quot;timeout&quot;</span>)  <span class=\"hljs-comment\"># type: <span class=\"hljs-type\">Any</span></span>\n\n<span class=\"hljs-comment\"># &#x4f7f;&#x7528; cast&#xff1a;&#x544a;&#x8bc9; mypy &#x8fd9;&#x662f; int</span>\ntimeout = cast(<span class=\"hljs-built_in\">int</span>, get_config(<span class=\"hljs-string\">&quot;timeout&quot;</span>))  <span class=\"hljs-comment\"># type: <span class=\"hljs-built_in\">int</span></span>\n<span class=\"hljs-comment\"># &#x73b0;&#x5728;&#x53ef;&#x4ee5;&#x5b89;&#x5168;&#x5730;&#x4f7f;&#x7528; int &#x7684;&#x65b9;&#x6cd5;</span>\nseconds = timeout + <span class=\"hljs-number\">10</span>  <span class=\"hljs-comment\"># mypy &#x77e5;&#x9053;&#x8fd9;&#x662f;&#x5408;&#x6cd5;&#x7684;</span>\n</code></pre>\n<p data-lines=\"376,377\">&#x518d;&#x6bd4;&#x5982;&#xff0c;&#x5904;&#x7406; json &#x6570;&#x636e;</p>\n<pre data-lines=\"377,390\"><code data-lines=\"377,390\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-type\">json</span>\n<span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> <span class=\"hljs-keyword\">cast</span>\n\n# <span class=\"hljs-type\">JSON</span> &#x89e3;&#x6790;&#x8fd4;&#x56de; <span class=\"hljs-keyword\">Any</span> &#x7c7b;&#x578b;\ndata = <span class=\"hljs-type\">json</span>.loads(<span class=\"hljs-string\">&apos;{&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30}&apos;</span>)\n# data &#x7684;&#x7c7b;&#x578b;&#x662f; <span class=\"hljs-keyword\">Any</span>\n\n# &#x4f60;&#x77e5;&#x9053;&#x7ed3;&#x6784;&#xff0c;&#x53ef;&#x4ee5;&#x7528; <span class=\"hljs-keyword\">cast</span>\nuser_dict = cast(dict[str, str | <span class=\"hljs-type\">int</span>], data)\n<span class=\"hljs-type\">name</span> = user_dict[&quot;name&quot;]  # mypy &#x77e5;&#x9053;&#x8fd9;&#x662f; str | <span class=\"hljs-type\">int</span>\n# &#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#xff0c;&#x66f4;&#x597d;&#x7684;&#x65b9;&#x5f0f;&#x7528;pydantic&#x5427;&#x3002;&#x6216;&#x8005; pydantic +TypedDict\n</code></pre>","children":[],"payload":{"tag":"li","lines":"360,390","listIndex":3}},{"content":"4. \n<p data-lines=\"390,393\">&#x9677;&#x9631;<br>\n&#x9677;&#x9631; 1&#xff1a;&#x4ee5;&#x4e3a; cast &#x4f1a;&#x505a;&#x7c7b;&#x578b;&#x8f6c;&#x6362;<br>\n&#x9677;&#x9631; 2&#xff1a;&#x6ee5;&#x7528; cast &#x63a9;&#x76d6;&#x771f;&#x6b63;&#x7684;&#x7c7b;&#x578b;&#x9519;&#x8bef;</p>","children":[],"payload":{"tag":"li","lines":"390,397","listIndex":4}}],"payload":{"tag":"ol","lines":"351,397"}}],"payload":{"tag":"li","lines":"349,397"}}],"payload":{"tag":"h4","lines":"343,344"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>assert_type()</strong>","children":[{"content":"&#x544a;&#x8bc9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x65ad;&#x8a00;&#x503c;&#x7684;&#x7c7b;&#x578b;&#xff08;Python 3.11+&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>assert_type(expr, T)</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"398,399"}},{"content":"&#x89e3;&#x91ca;:<pre data-lines=\"400,413\"><code data-lines=\"400,413\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> assert_type\n\ndef get_number() -&gt; <span class=\"hljs-type\">int</span>:\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">42</span>\n\n<span class=\"hljs-comment\"># &#x544a;&#x8bc9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#xff1a;&#x6211;&#x8ba4;&#x4e3a;&#x8fd9;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x7c7b;&#x578b;&#x662f; int</span>\n<span class=\"hljs-built_in\">result</span> = get_number()\nassert_type(<span class=\"hljs-built_in\">result</span>, <span class=\"hljs-type\">int</span>)  <span class=\"hljs-comment\"># &#x2713; &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x4f1a;&#x9a8c;&#x8bc1; result &#x786e;&#x5b9e;&#x662f; int</span>\n\n<span class=\"hljs-comment\"># &#x5982;&#x679c;&#x65ad;&#x8a00;&#x9519;&#x8bef;&#xff0c;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x4f1a;&#x62a5;&#x9519;</span>\nassert_type(<span class=\"hljs-built_in\">result</span>, str)  <span class=\"hljs-comment\"># &#x2717; &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x62a5;&#x9519;&#xff1a;Expected type str, got int</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"399,413"}},{"content":"&#x6ce8;&#x610f;<br>\n&#x8fd9;&#x662f;&#x4e00;&#x4e2a;&#x6d4b;&#x8bd5;&#x5de5;&#x5177;&#xff0c;&#x4e0d;&#x5e94;&#x5728;&#x751f;&#x4ea7;&#x4ee3;&#x7801;&#x4e2d;&#x5927;&#x91cf;&#x4f7f;&#x7528;<br>\n&#x4e3b;&#x8981;&#x7528;&#x4e8e;&#x7f16;&#x5199;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;","children":[],"payload":{"tag":"li","lines":"413,417"}}],"payload":{"tag":"h4","lines":"397,398"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>assert_never()</strong>","children":[{"content":"&#x7528;&#x4e8e;&#x7a77;&#x5c3d;&#x6027;&#x68c0;&#x67e5;&#xff0c;&#x786e;&#x8ba4;&#x4ee3;&#x7801;&#x8def;&#x5f84;&#x4e0d;&#x53ef;&#x8fbe;&#xff08;Python 3.11+&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>assert_never(x)</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"418,419"}},{"content":"&#x89e3;&#x91ca;:<br>\n&#x201c;&#x7528;&#x6765;&#x9501;&#x95e8;&#x7684;&#x201d;&#xff0c;&#x4e00;&#x822c;&#x52a0;&#x8fd9;&#x4e2a;&#x662f;&#x4e3a;&#x4e86;&#x9762;&#x5411;&#x672a;&#x6765;&#x5199;&#x7684;&#x4ee3;&#x7801;&#x4fdd;&#x8bc1;&#x7c7b;&#x578b;&#x5b89;&#x5168;&#x3002;","children":[],"payload":{"tag":"li","lines":"419,422"}}],"payload":{"tag":"h4","lines":"417,418"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>reveal_type()</strong>","children":[{"content":"&#x8c03;&#x8bd5;&#x5de5;&#x5177;&#xff0c;&#x663e;&#x793a;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x63a8;&#x65ad;&#x7684;&#x7c7b;&#x578b;&#xff08;Python 3.11+&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>reveal_type(expr)</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"423,424"}},{"content":"&#x89e3;&#x91ca;: &#x662f;&#x4e00;&#x4e2a;&#x4e13;&#x95e8;&#x7528;&#x4e8e;&#x8c03;&#x8bd5;&#x7684;&#x5de5;&#x5177;&#x51fd;&#x6570;&#xff0c;&#x80fd;&#x8ba9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#xff08;&#x5982; mypy&#xff09;&#x544a;&#x8bc9;&#x4f60;&#xff1a;&#x5728;&#x67d0;&#x4e2a;&#x4f4d;&#x7f6e;&#xff0c;&#x53d8;&#x91cf;&#x7684;&#x7c7b;&#x578b;&#x88ab;&#x63a8;&#x65ad;&#x4e3a;&#x4ec0;&#x4e48;&#x3002;&#x4e00;&#x4e2a;&#x8c03;&#x8bd5;&#x5c0f;&#x5de5;&#x5177;&#xff0c;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x5728;<code>Problems</code>&#x4e2d;&#x770b;&#x5230;&#x8fd9;&#x884c;&#x4ee3;&#x7801;&#x7684;&#x8f93;&#x51fa;&#x3002;<pre data-lines=\"425,440\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> reveal_type\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process_data</span>(<span class=\"hljs-params\">data: <span class=\"hljs-built_in\">int</span> | <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\n    <span class=\"hljs-comment\"># &#x770b;&#x770b;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x8ba4;&#x4e3a; data &#x662f;&#x4ec0;&#x4e48;&#x7c7b;&#x578b;</span>\n    reveal_type(data)  <span class=\"hljs-comment\"># mypy &#x4f1a;&#x8f93;&#x51fa;: Revealed type is &quot;int | str&quot;</span>\n    \n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">isinstance</span>(data, <span class=\"hljs-built_in\">int</span>):\n        <span class=\"hljs-comment\"># &#x5728;&#x8fd9;&#x4e2a;&#x5206;&#x652f;&#x91cc;&#xff0c;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x77e5;&#x9053; data &#x662f; int</span>\n        reveal_type(data)  <span class=\"hljs-comment\"># Revealed type is &quot;int&quot;</span>\n        <span class=\"hljs-built_in\">print</span>(data * <span class=\"hljs-number\">2</span>)\n    <span class=\"hljs-keyword\">else</span>:\n        <span class=\"hljs-comment\"># &#x5728;&#x8fd9;&#x4e2a;&#x5206;&#x652f;&#x91cc;&#xff0c;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x77e5;&#x9053; data &#x662f; str</span>\n        reveal_type(data)  <span class=\"hljs-comment\"># Revealed type is &quot;str&quot;</span>\n        <span class=\"hljs-built_in\">print</span>(data.upper())\n</code></pre>","children":[],"payload":{"tag":"li","lines":"424,441"}}],"payload":{"tag":"h4","lines":"422,423"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>overload()</strong>","children":[{"content":"&#x88c5;&#x9970;&#x5668;&#xff0c;&#x7528;&#x4e8e;&#x58f0;&#x660e;&#x591a;&#x4e2a;&#x51fd;&#x6570;&#x7b7e;&#x540d;&#xff08;&#x9759;&#x6001;&#x5206;&#x6790;&#x7528;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>@overload</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"442,443"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"443,445"}}],"payload":{"tag":"h4","lines":"441,442"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>get_origin(), get_args()</strong>","children":[{"content":"&#x540c;&#x4e0a;&#xff08;&#x7b2c; 3 &#x8282;&#x5df2;&#x8be6;&#x7ec6;&#x8bf4;&#x660e;&#xff09;&#x3002;&#x8fd9;&#x4e24;&#x4e2a;&#x51fd;&#x6570;&#x5728; <code>typing</code> &#x6a21;&#x5757;&#x4e2d;&#x65e2;&#x662f;&#x7c7b;&#x578b;&#x5143;&#x7f16;&#x7a0b;&#x5de5;&#x5177;&#xff0c;&#x4e5f;&#x662f;&#x8fd0;&#x884c;&#x65f6;&#x8f85;&#x52a9;&#x51fd;&#x6570;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>get_origin(tp)</code>&#xff0c;<code>get_args(tp)</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"446,447"}},{"content":"&#x89e3;&#x91ca;: &#x89c1;&#x7b2c; 3 &#x8282;&#x3002;","children":[],"payload":{"tag":"li","lines":"447,449"}}],"payload":{"tag":"h4","lines":"445,446"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>get_type_hints()</strong>","children":[{"content":"&#x83b7;&#x53d6;&#x5bf9;&#x8c61;&#x7684;&#x7c7b;&#x578b;&#x63d0;&#x793a;&#xff08;&#x91cd;&#x8981;&#x7684;&#x8fd0;&#x884c;&#x65f6;&#x51fd;&#x6570;&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>get_type_hints(obj)</code>&#x3002;&#x4f46;&#x662f;<br>\n&#x4e3a;&#x4e86;&#x6027;&#x80fd;&#x548c;&#x8868;&#x8fbe;&#x529b;&#xff0c;<br>\nPydantic &#x5728;&#x5e95;&#x5c42;&#x505a;&#x4e86;&#x5f88;&#x591a;&#x9ed1;&#x79d1;&#x6280;&#xff1a;<br>\n&#x5b83;&#x76f4;&#x63a5;&#x7528; Rust &#x91cd;&#x5199;&#x4e86;&#x7c7b;&#x578b;&#x89e3;&#x6790;&#x548c;&#x9a8c;&#x8bc1;&#x903b;&#x8f91;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x7528;&#x5b98;&#x65b9;&#x7684; get_type_hints()","children":[],"payload":{"tag":"li","lines":"450,454"}},{"content":"&#x89e3;&#x91ca;:<pre data-lines=\"455,507\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> get_type_hints, TypedDict\n\n<span class=\"hljs-comment\"># &#x573a;&#x666f;1&#xff1a;&#x8fd0;&#x884c;&#x65f6;&#x9a8c;&#x8bc1;&#xff08;&#x7c7b;&#x4f3c; pydantic &#x7684;&#x5b9e;&#x73b0;&#x539f;&#x7406;&#xff09;</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">validate_types</span>(<span class=\"hljs-params\">func, *args, **kwargs</span>):\n    hints = get_type_hints(func)\n    <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x53c2;&#x6570;&#x540d;</span>\n    <span class=\"hljs-keyword\">import</span> inspect\n    sig = inspect.signature(func)\n    bound_args = sig.bind(*args, **kwargs)\n    \n    <span class=\"hljs-comment\"># &#x9a8c;&#x8bc1;&#x6bcf;&#x4e2a;&#x53c2;&#x6570;&#x7684;&#x7c7b;&#x578b;</span>\n    <span class=\"hljs-keyword\">for</span> param_name, param_value <span class=\"hljs-keyword\">in</span> bound_args.arguments.items():\n        expected_type = hints.get(param_name)\n        <span class=\"hljs-keyword\">if</span> expected_type <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-built_in\">isinstance</span>(param_value, expected_type):\n            <span class=\"hljs-keyword\">raise</span> TypeError(\n                <span class=\"hljs-string\">f&quot;&#x53c2;&#x6570; <span class=\"hljs-subst\">{param_name}</span> &#x5e94;&#x8be5;&#x662f; <span class=\"hljs-subst\">{expected_type}</span>&#xff0c;&quot;</span>\n                <span class=\"hljs-string\">f&quot;&#x4f46;&#x5f97;&#x5230;&#x4e86; <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">type</span>(param_value)}</span>&quot;</span>\n            )\n    \n    <span class=\"hljs-keyword\">return</span> func(*args, **kwargs)\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">add</span>(<span class=\"hljs-params\">x: <span class=\"hljs-built_in\">int</span>, y: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-built_in\">int</span>:\n    <span class=\"hljs-keyword\">return</span> x + y\n\nvalidate_types(add, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>)      <span class=\"hljs-comment\"># &#x2713; &#x6b63;&#x5e38;</span>\n<span class=\"hljs-comment\"># validate_types(add, &quot;1&quot;, 2)  # &#x2717; &#x629b;&#x51fa; TypeError</span>\n\n<span class=\"hljs-comment\"># &#x573a;&#x666f;2&#xff1a;&#x81ea;&#x52a8;&#x751f;&#x6210;&#x6587;&#x6863;</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">generate_signature_doc</span>(<span class=\"hljs-params\">func</span>):\n    hints = get_type_hints(func)\n    params = []\n    <span class=\"hljs-keyword\">for</span> name, type_ <span class=\"hljs-keyword\">in</span> hints.items():\n        <span class=\"hljs-keyword\">if</span> name != <span class=\"hljs-string\">&apos;return&apos;</span>:\n            params.append(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{name}</span>: <span class=\"hljs-subst\">{type_.__name__}</span>&quot;</span>)\n    \n    return_type = hints.get(<span class=\"hljs-string\">&apos;return&apos;</span>, <span class=\"hljs-string\">&apos;None&apos;</span>)\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{func.__name__}</span>(<span class=\"hljs-subst\">{<span class=\"hljs-string\">&apos;, &apos;</span>.join(params)}</span>) -&gt; <span class=\"hljs-subst\">{return_type.__name__}</span>&quot;</span>\n\n<span class=\"hljs-built_in\">print</span>(generate_signature_doc(add))\n<span class=\"hljs-comment\"># add(x: int, y: int) -&gt; int</span>\n\n<span class=\"hljs-comment\"># &#x573a;&#x666f;3&#xff1a;&#x5904;&#x7406; TypedDict</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Config</span>(<span class=\"hljs-title class_ inherited__\">TypedDict</span>):\n    host: <span class=\"hljs-built_in\">str</span>\n    port: <span class=\"hljs-built_in\">int</span>\n    debug: <span class=\"hljs-built_in\">bool</span>\n\nhints = get_type_hints(Config)\n<span class=\"hljs-built_in\">print</span>(hints)\n<span class=\"hljs-comment\"># {&apos;host&apos;: &lt;class &apos;str&apos;&gt;, &apos;port&apos;: &lt;class &apos;int&apos;&gt;, &apos;debug&apos;: &lt;class &apos;bool&apos;&gt;}</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"454,508"}}],"payload":{"tag":"h4","lines":"449,450"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>is_protocol()</strong>","children":[{"content":"&#x68c0;&#x67e5;&#x4e00;&#x4e2a;&#x7c7b;&#x578b;&#x662f;&#x5426;&#x4e3a; <code>Protocol</code>&#xff08;Python 3.14&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>is_protocol(tp)</code>&#x3002;&#x4ec5;&#x5728; Python 3.14+ &#x53ef;&#x7528;&#xff08;&#x8f83;&#x65b0;&#x7684;&#x7279;&#x6027;&#xff09;","children":[],"payload":{"tag":"li","lines":"509,510"}},{"content":"&#x89e3;&#x91ca;:<pre data-lines=\"511,539\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> Protocol, is_protocol, get_type_hints\n\n<span class=\"hljs-comment\"># &#x573a;&#x666f;&#xff1a;&#x81ea;&#x52a8;&#x6ce8;&#x518c; Protocol &#x7684;&#x5b9e;&#x73b0;</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">PluginRegistry</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.protocols = {}\n        <span class=\"hljs-variable language_\">self</span>.implementations = {}\n    \n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">register_protocol</span>(<span class=\"hljs-params\">self, proto</span>):\n        <span class=\"hljs-keyword\">if</span> is_protocol(proto):\n            <span class=\"hljs-variable language_\">self</span>.protocols[proto.__name__] = proto\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">raise</span> TypeError(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{proto}</span> &#x4e0d;&#x662f;&#x4e00;&#x4e2a; Protocol&quot;</span>)\n    \n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">register_implementation</span>(<span class=\"hljs-params\">self, proto, impl</span>):\n        <span class=\"hljs-keyword\">if</span> is_protocol(proto):\n            <span class=\"hljs-variable language_\">self</span>.implementations[proto] = impl\n\nregistry = PluginRegistry()\n\n<span class=\"hljs-meta\">@runtime_checkable</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Storage</span>(<span class=\"hljs-title class_ inherited__\">Protocol</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save</span>(<span class=\"hljs-params\">self, data: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-literal\">None</span>: ...\n\nregistry.register_protocol(Storage)  <span class=\"hljs-comment\"># &#x2713;</span>\n<span class=\"hljs-comment\"># registry.register_protocol(str)    # &#x2717; TypeError</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"510,540"}}],"payload":{"tag":"h4","lines":"508,509"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>is_typeddict()</strong>","children":[{"content":"&#x68c0;&#x67e5;&#x4e00;&#x4e2a;&#x7c7b;&#x578b;&#x662f;&#x5426;&#x4e3a; <code>TypedDict</code>&#xff08;Python 3.14&#xff09;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>is_typeddict(tp)</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"541,542"}},{"content":"&#x89e3;&#x91ca;:<pre data-lines=\"543,572\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> TypedDict, is_typeddict, get_type_hints\n\n<span class=\"hljs-comment\"># &#x573a;&#x666f;&#xff1a;&#x81ea;&#x52a8;&#x9a8c;&#x8bc1; TypedDict</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">validate_typeddict</span>(<span class=\"hljs-params\">td_class, data: <span class=\"hljs-built_in\">dict</span></span>):\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> is_typeddict(td_class):\n        <span class=\"hljs-keyword\">raise</span> TypeError(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{td_class}</span> &#x4e0d;&#x662f; TypedDict&quot;</span>)\n    \n    hints = get_type_hints(td_class)\n    <span class=\"hljs-keyword\">for</span> key, expected_type <span class=\"hljs-keyword\">in</span> hints.items():\n        <span class=\"hljs-keyword\">if</span> key <span class=\"hljs-keyword\">not</span> <span class=\"hljs-keyword\">in</span> data:\n            <span class=\"hljs-keyword\">raise</span> ValueError(<span class=\"hljs-string\">f&quot;&#x7f3a;&#x5c11;&#x5fc5;&#x9700;&#x5b57;&#x6bb5;: <span class=\"hljs-subst\">{key}</span>&quot;</span>)\n        \n        value = data[key]\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-built_in\">isinstance</span>(value, expected_type):\n            <span class=\"hljs-keyword\">raise</span> TypeError(\n                <span class=\"hljs-string\">f&quot;&#x5b57;&#x6bb5; <span class=\"hljs-subst\">{key}</span> &#x5e94;&#x8be5;&#x662f; <span class=\"hljs-subst\">{expected_type}</span>&#xff0c;&quot;</span>\n                <span class=\"hljs-string\">f&quot;&#x4f46;&#x5f97;&#x5230;&#x4e86; <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">type</span>(value)}</span>&quot;</span>\n            )\n    \n    <span class=\"hljs-keyword\">return</span> data\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Config</span>(<span class=\"hljs-title class_ inherited__\">TypedDict</span>):\n    host: <span class=\"hljs-built_in\">str</span>\n    port: <span class=\"hljs-built_in\">int</span>\n\nconfig_data = {<span class=\"hljs-string\">&quot;host&quot;</span>: <span class=\"hljs-string\">&quot;localhost&quot;</span>, <span class=\"hljs-string\">&quot;port&quot;</span>: <span class=\"hljs-number\">8000</span>}\nvalidate_typeddict(Config, config_data)  <span class=\"hljs-comment\"># &#x2713;</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"542,573"}}],"payload":{"tag":"h4","lines":"540,541"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>@override</strong>","children":[{"content":"&#xff08;PEP 698&#xff09;&#x7528;&#x4e8e;&#x6807;&#x8bb0;&#x8986;&#x5199;&#x7236;&#x7c7b;&#x65b9;&#x6cd5;&#x7684;&#x88c5;&#x9970;&#x5668;&#xff0c;&#x5e2e;&#x52a9;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>@override</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"574,575"}},{"content":"&#x89e3;&#x91ca;:<br>\n&#x2705; @override &#x7684;&#x4ef7;&#x503c;&#xff1a;<pre data-lines=\"577,599\"><code class=\"language-python\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BaseRepository</span>:\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save</span>(<span class=\"hljs-params\">self, data: <span class=\"hljs-built_in\">dict</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\n    <span class=\"hljs-keyword\">raise</span> NotImplementedError\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserRepository</span>(<span class=\"hljs-title class_ inherited__\">BaseRepository</span>):\n    <span class=\"hljs-comment\"># &#x2705; &#x573a;&#x666f;1&#xff1a;&#x9632;&#x6b62;&#x62fc;&#x5199;&#x9519;&#x8bef;</span>\n<span class=\"hljs-meta\">    @override</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">sava</span>(<span class=\"hljs-params\">self, data: <span class=\"hljs-built_in\">dict</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:  <span class=\"hljs-comment\"># &#x274c; mypy &#x62a5;&#x9519;&#xff1a;&#x62fc;&#x5199;&#x9519;&#x8bef;&#xff01;</span>\n        <span class=\"hljs-keyword\">pass</span>\n    \n    <span class=\"hljs-comment\"># &#x2705; &#x573a;&#x666f;2&#xff1a;&#x9632;&#x6b62;&#x7b7e;&#x540d;&#x4e0d;&#x5339;&#x914d;</span>\n<span class=\"hljs-meta\">    @override</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save</span>(<span class=\"hljs-params\">self, data: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:  <span class=\"hljs-comment\"># &#x274c; mypy &#x62a5;&#x9519;&#xff1a;&#x53c2;&#x6570;&#x7c7b;&#x578b;&#x9519;&#x4e86;&#xff01;</span>\n        <span class=\"hljs-keyword\">pass</span>\n    \n    <span class=\"hljs-comment\"># &#x2705; &#x573a;&#x666f;3&#xff1a;&#x9632;&#x6b62;&#x7236;&#x7c7b;&#x91cd;&#x6784;&#x540e;&#x9057;&#x6f0f;&#x66f4;&#x65b0;</span>\n    <span class=\"hljs-comment\"># &#x5047;&#x8bbe;&#x7236;&#x7c7b;&#x5220;&#x9664;&#x4e86; save &#x65b9;&#x6cd5;&#xff0c;mypy &#x4f1a;&#x7acb;&#x5373;&#x8b66;&#x544a;</span>\n<span class=\"hljs-meta\">    @override</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save</span>(<span class=\"hljs-params\">self, data: <span class=\"hljs-built_in\">dict</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:  <span class=\"hljs-comment\"># &#x274c; mypy &#x62a5;&#x9519;&#xff1a;&#x7236;&#x7c7b;&#x5df2;&#x7ecf;&#x6ca1;&#x6709;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x4e86;&#xff01;</span>\n        <span class=\"hljs-keyword\">pass</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"575,601"}}],"payload":{"tag":"h4","lines":"573,574"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>clear_overloads()</strong>","children":[{"content":"&#x6e05;&#x7406;&#x5df2;&#x58f0;&#x660e;&#x7684; <code>overload</code>&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>clear_overloads()</code>&#x3002; &#x7528;&#x4e8e;&#x6d4b;&#x8bd5;","children":[],"payload":{"tag":"li","lines":"602,603"}},{"content":"&#x89e3;&#x91ca;:<br>\n7&#xfe0f;&#x20e3; clear_overloads() - &#x91cd;&#x8f7d;&#x6e05;&#x7406;<br>\n&#x7528;&#x9014;&#xff1a;&#x6e05;&#x9664; @overload &#x6ce8;&#x518c;<br>\n&#x573a;&#x666f;&#xff1a;&#x6d4b;&#x8bd5;&#x3001;REPL<br>\n@overload &#x88c5;&#x9970;&#x5668;&#x4f1a;&#x5728;&#x5185;&#x90e8;&#x6ce8;&#x518c;&#x51fd;&#x6570;&#x7b7e;&#x540d;<br>\nclear_overloads() &#x6e05;&#x7a7a;&#x8fd9;&#x4e2a;&#x6ce8;&#x518c;&#x8868;<pre data-lines=\"609,626\"><code data-lines=\"609,626\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> overload, clear_overloads\n\n<span class=\"hljs-meta\">@overload</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process</span>(<span class=\"hljs-params\">x: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-built_in\">str</span>: ...\n\n<span class=\"hljs-meta\">@overload</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process</span>(<span class=\"hljs-params\">x: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-built_in\">int</span>: ...\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process</span>(<span class=\"hljs-params\">x</span>):\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">isinstance</span>(x, <span class=\"hljs-built_in\">int</span>):\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">str</span>(x)\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">len</span>(x)\n\n<span class=\"hljs-comment\"># &#x6e05;&#x7406;&#x91cd;&#x8f7d;&#x5b9a;&#x4e49;&#xff08;&#x901a;&#x5e38;&#x5728;&#x6d4b;&#x8bd5;&#x4e2d;&#x4f7f;&#x7528;&#xff09;</span>\nclear_overloads()\n</code></pre>","children":[],"payload":{"tag":"li","lines":"603,629"}}],"payload":{"tag":"h4","lines":"601,602"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>@dataclass_transform</strong>","children":[{"content":"&#xff08;PEP 681&#xff09;&#x7528;&#x4e8e;&#x81ea;&#x5b9a;&#x4e49;&#x88c5;&#x9970;&#x5668;&#x7684;&#x7c7b;&#x578b;&#x63d0;&#x793a;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>@dataclass_transform()</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"630,631"}},{"content":"&#x89e3;&#x91ca;: dataclass&#x8fd9;&#x4e2a;&#x8bcd;&#x4ece;&#x8868;&#x793a;&#x4e00;&#x4e2a;&#x7c7b;&#xff0c;&#x5230;&#x73b0;&#x5728;&#x8868;&#x793a;&#x4e00;&#x4e2a;&#x673a;&#x5236;&#x3002;<code>dataclass_transform</code>&#x8868;&#x793a; &#x6709;&#x7740; dataclass &#x7684;&#x7c7b;&#x3002;&#x4f1a;&#x81ea;&#x52a8;&#x751f;&#x6210; <strong>init</strong>&#x3001;<strong>eq</strong> &#x7b49;&#x65b9;&#x6cd5;&#x3002;<pre data-lines=\"632,655\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> dataclass_transform\n\n<span class=\"hljs-comment\"># &#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x7c7b;&#x4f3c; dataclass &#x7684;&#x88c5;&#x9970;&#x5668;</span>\n<span class=\"hljs-meta\">@dataclass_transform()</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">my_dataclass</span>(<span class=\"hljs-params\">cls</span>):\n    <span class=\"hljs-comment\"># &#x81ea;&#x52a8;&#x751f;&#x6210; __init__</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, **kwargs</span>):\n        <span class=\"hljs-keyword\">for</span> key, value <span class=\"hljs-keyword\">in</span> kwargs.items():\n            <span class=\"hljs-built_in\">setattr</span>(<span class=\"hljs-variable language_\">self</span>, key, value)\n    \n    cls.__init__ = __init__\n    <span class=\"hljs-keyword\">return</span> cls\n\n<span class=\"hljs-comment\"># &#x4f7f;&#x7528;&#x81ea;&#x5b9a;&#x4e49;&#x88c5;&#x9970;&#x5668;</span>\n<span class=\"hljs-meta\">@my_dataclass</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Person</span>:\n    name: <span class=\"hljs-built_in\">str</span>\n    age: <span class=\"hljs-built_in\">int</span>\n\n<span class=\"hljs-comment\"># &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x4f1a;&#x7406;&#x89e3;&#x8fd9;&#x4e2a;&#x7c7b;&#x6709;&#x81ea;&#x52a8;&#x751f;&#x6210;&#x7684; __init__</span>\nperson = Person(name=<span class=\"hljs-string\">&quot;Alice&quot;</span>, age=<span class=\"hljs-number\">30</span>)  <span class=\"hljs-comment\"># &#x2713; &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x901a;&#x8fc7;</span>\n</code></pre>\n&#x518d;&#x4e3e;&#x4e00;&#x4e2a;&#x5b9e;&#x4f8b;&#xff0c;&#x6bd4;&#x5982;&#x6784;&#x9020;&#x4e00;&#x4e2a; dataclass&#x4f46;&#x52a0;&#x7c7b;&#x578b;&#x9a8c;&#x8bc1;<pre data-lines=\"656,697\"><code data-lines=\"656,697\">    <span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> dataclass_transform, <span class=\"hljs-type\">Callable</span>, <span class=\"hljs-type\">Any</span>\n<span class=\"hljs-keyword\">from</span> functools <span class=\"hljs-keyword\">import</span> wraps\n\n<span class=\"hljs-comment\"># &#x573a;&#x666f;&#xff1a;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x652f;&#x6301;&#x9a8c;&#x8bc1;&#x7684; dataclass</span>\n<span class=\"hljs-meta\">@dataclass_transform()</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">validated_dataclass</span>(<span class=\"hljs-params\">cls</span>):\n    <span class=\"hljs-string\">&quot;&quot;&quot;&#x7c7b;&#x4f3c; dataclass&#xff0c;&#x4f46;&#x6dfb;&#x52a0;&#x7c7b;&#x578b;&#x9a8c;&#x8bc1;&quot;&quot;&quot;</span>\n    \n    <span class=\"hljs-comment\"># &#x4fdd;&#x5b58;&#x539f;&#x59cb;&#x6ce8;&#x89e3;</span>\n    annotations = cls.__annotations__ <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">hasattr</span>(cls, <span class=\"hljs-string\">&apos;__annotations__&apos;</span>) <span class=\"hljs-keyword\">else</span> {}\n    \n    <span class=\"hljs-comment\"># &#x751f;&#x6210; __init__</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, **kwargs</span>):\n        <span class=\"hljs-keyword\">for</span> field_name, field_type <span class=\"hljs-keyword\">in</span> annotations.items():\n            <span class=\"hljs-keyword\">if</span> field_name <span class=\"hljs-keyword\">not</span> <span class=\"hljs-keyword\">in</span> kwargs:\n                <span class=\"hljs-keyword\">raise</span> ValueError(<span class=\"hljs-string\">f&quot;&#x7f3a;&#x5c11;&#x5fc5;&#x9700;&#x5b57;&#x6bb5;: <span class=\"hljs-subst\">{field_name}</span>&quot;</span>)\n            \n            value = kwargs[field_name]\n            <span class=\"hljs-comment\"># &#x7b80;&#x5355;&#x7684;&#x7c7b;&#x578b;&#x68c0;&#x67e5;</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-built_in\">isinstance</span>(value, field_type):\n                <span class=\"hljs-keyword\">raise</span> TypeError(\n                    <span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{field_name}</span> &#x5e94;&#x8be5;&#x662f; <span class=\"hljs-subst\">{field_type}</span>&#xff0c;&quot;</span>\n                    <span class=\"hljs-string\">f&quot;&#x4f46;&#x5f97;&#x5230;&#x4e86; <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">type</span>(value)}</span>&quot;</span>\n                )\n            \n            <span class=\"hljs-built_in\">setattr</span>(<span class=\"hljs-variable language_\">self</span>, field_name, value)\n    \n    cls.__init__ = __init__\n    <span class=\"hljs-keyword\">return</span> cls\n\n<span class=\"hljs-meta\">@validated_dataclass</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Product</span>:\n    name: <span class=\"hljs-built_in\">str</span>\n    price: <span class=\"hljs-built_in\">float</span>\n    stock: <span class=\"hljs-built_in\">int</span>\n\n<span class=\"hljs-comment\"># &#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x5668;&#x7406;&#x89e3; Product &#x7684;&#x6784;&#x9020;&#x65b9;&#x5f0f;</span>\nproduct = Product(name=<span class=\"hljs-string\">&quot;Laptop&quot;</span>, price=<span class=\"hljs-number\">999.99</span>, stock=<span class=\"hljs-number\">10</span>)  <span class=\"hljs-comment\"># &#x2713;</span>\n<span class=\"hljs-comment\"># product = Product(name=&quot;Laptop&quot;)  # &#x2717; &#x8fd0;&#x884c;&#x65f6;&#x9519;&#x8bef;&#xff1a;&#x7f3a;&#x5c11;&#x5b57;&#x6bb5;</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"631,700"}}],"payload":{"tag":"h4","lines":"629,630"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>deprecated()</strong>","children":[{"content":"&#x6807;&#x8bb0;&#x5df2;&#x5f03;&#x7528;&#x7684;&#x51fd;&#x6570;&#x6216;&#x7c7b;&#x7684;&#x88c5;&#x9970;&#x5668;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>deprecated(&quot;message&quot;)</code> &#x6216; <code>@deprecated(&quot;reason&quot;)</code>&#xff08;&#x5177;&#x4f53;&#x7528;&#x6cd5;&#x4f9d; Python &#x7248;&#x672c;&#xff09;&#x3002;","children":[],"payload":{"tag":"li","lines":"701,702"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"702,704"}}],"payload":{"tag":"h4","lines":"700,701"}},{"content":"<svg width=\"16\" height=\"16\" viewBox=\"0 -3 24 24\"><path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"/></svg> <strong>typing_extensions</strong>","children":[{"content":"&#x4e3a;&#x65e7;&#x7248;&#x672c; Python &#x63d0;&#x4f9b;&#x65b0;&#x7279;&#x6027;&#x7684;&#x5411;&#x540e;&#x517c;&#x5bb9;&#x6a21;&#x5757;&#x3002;&#x8bed;&#x6cd5;&#xff1a;<code>from typing_extensions import ...</code>&#x3002;","children":[],"payload":{"tag":"li","lines":"705,706"}},{"content":"&#x89e3;&#x91ca;:","children":[],"payload":{"tag":"li","lines":"706,707"}}],"payload":{"tag":"h4","lines":"704,705"}}],"payload":{"tag":"h3","lines":"337,338"}}],"payload":{"tag":"h1","lines":"0,1"}},null)</script>
</body>
</html>
